"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/broker-factory";
exports.ids = ["vendor-chunks/broker-factory"];
exports.modules = {

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/guards/message-port.js":
/*!*************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/guards/message-port.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMessagePort: () => (/* binding */ isMessagePort)\n/* harmony export */ });\nconst isMessagePort = (sender) => {\n    return typeof sender.start === 'function';\n};\n//# sourceMappingURL=message-port.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2d1YXJkcy9tZXNzYWdlLXBvcnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNpbXBsZVxcRG93bmxvYWRzXFxQcm95ZWN0b0V4dHJhY3RvckRlRmlsYW1lbnRvXFxleHRyYWN0b3Itc2VydmVyXFxub2RlX21vZHVsZXNcXGJyb2tlci1mYWN0b3J5XFxidWlsZFxcZXMyMDE5XFxndWFyZHNcXG1lc3NhZ2UtcG9ydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaXNNZXNzYWdlUG9ydCA9IChzZW5kZXIpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHNlbmRlci5zdGFydCA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlLXBvcnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/guards/message-port.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/helpers/extend-broker-implementation.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/helpers/extend-broker-implementation.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extendBrokerImplementation: () => (/* binding */ extendBrokerImplementation)\n/* harmony export */ });\n/* harmony import */ var _port_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./port-map */ \"(ssr)/./node_modules/broker-factory/build/es2019/helpers/port-map.js\");\n\nconst extendBrokerImplementation = (partialBrokerImplementation) => ({\n    ...partialBrokerImplementation,\n    connect: ({ call }) => {\n        return async () => {\n            const { port1, port2 } = new MessageChannel();\n            const portId = await call('connect', { port: port1 }, [port1]);\n            _port_map__WEBPACK_IMPORTED_MODULE_0__.PORT_MAP.set(port2, portId);\n            return port2;\n        };\n    },\n    disconnect: ({ call }) => {\n        return async (port) => {\n            const portId = _port_map__WEBPACK_IMPORTED_MODULE_0__.PORT_MAP.get(port);\n            if (portId === undefined) {\n                throw new Error('The given port is not connected.');\n            }\n            await call('disconnect', { portId });\n        };\n    },\n    isSupported: ({ call }) => {\n        return () => call('isSupported');\n    }\n});\n//# sourceMappingURL=extend-broker-implementation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2hlbHBlcnMvZXh0ZW5kLWJyb2tlci1pbXBsZW1lbnRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUMvQjtBQUNQO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQyxtREFBbUQsYUFBYTtBQUNoRSxZQUFZLCtDQUFRO0FBQ3BCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLE1BQU07QUFDekI7QUFDQSwyQkFBMkIsK0NBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFFBQVE7QUFDL0M7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTaW1wbGVcXERvd25sb2Fkc1xcUHJveWVjdG9FeHRyYWN0b3JEZUZpbGFtZW50b1xcZXh0cmFjdG9yLXNlcnZlclxcbm9kZV9tb2R1bGVzXFxicm9rZXItZmFjdG9yeVxcYnVpbGRcXGVzMjAxOVxcaGVscGVyc1xcZXh0ZW5kLWJyb2tlci1pbXBsZW1lbnRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQT1JUX01BUCB9IGZyb20gJy4vcG9ydC1tYXAnO1xuZXhwb3J0IGNvbnN0IGV4dGVuZEJyb2tlckltcGxlbWVudGF0aW9uID0gKHBhcnRpYWxCcm9rZXJJbXBsZW1lbnRhdGlvbikgPT4gKHtcbiAgICAuLi5wYXJ0aWFsQnJva2VySW1wbGVtZW50YXRpb24sXG4gICAgY29ubmVjdDogKHsgY2FsbCB9KSA9PiB7XG4gICAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHBvcnQxLCBwb3J0MiB9ID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjb25zdCBwb3J0SWQgPSBhd2FpdCBjYWxsKCdjb25uZWN0JywgeyBwb3J0OiBwb3J0MSB9LCBbcG9ydDFdKTtcbiAgICAgICAgICAgIFBPUlRfTUFQLnNldChwb3J0MiwgcG9ydElkKTtcbiAgICAgICAgICAgIHJldHVybiBwb3J0MjtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGRpc2Nvbm5lY3Q6ICh7IGNhbGwgfSkgPT4ge1xuICAgICAgICByZXR1cm4gYXN5bmMgKHBvcnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvcnRJZCA9IFBPUlRfTUFQLmdldChwb3J0KTtcbiAgICAgICAgICAgIGlmIChwb3J0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGdpdmVuIHBvcnQgaXMgbm90IGNvbm5lY3RlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGNhbGwoJ2Rpc2Nvbm5lY3QnLCB7IHBvcnRJZCB9KTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGlzU3VwcG9ydGVkOiAoeyBjYWxsIH0pID0+IHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNhbGwoJ2lzU3VwcG9ydGVkJyk7XG4gICAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRlbmQtYnJva2VyLWltcGxlbWVudGF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/helpers/extend-broker-implementation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/helpers/port-map.js":
/*!**********************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/helpers/port-map.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PORT_MAP: () => (/* binding */ PORT_MAP)\n/* harmony export */ });\nconst PORT_MAP = new WeakMap();\n//# sourceMappingURL=port-map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2hlbHBlcnMvcG9ydC1tYXAuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1AiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2ltcGxlXFxEb3dubG9hZHNcXFByb3llY3RvRXh0cmFjdG9yRGVGaWxhbWVudG9cXGV4dHJhY3Rvci1zZXJ2ZXJcXG5vZGVfbW9kdWxlc1xcYnJva2VyLWZhY3RvcnlcXGJ1aWxkXFxlczIwMTlcXGhlbHBlcnNcXHBvcnQtbWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQT1JUX01BUCA9IG5ldyBXZWFrTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb3J0LW1hcC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/helpers/port-map.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-actions.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/interfaces/broker-actions.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=broker-actions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2ludGVyZmFjZXMvYnJva2VyLWFjdGlvbnMuanMiLCJtYXBwaW5ncyI6IjtBQUFVO0FBQ1YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2ltcGxlXFxEb3dubG9hZHNcXFByb3llY3RvRXh0cmFjdG9yRGVGaWxhbWVudG9cXGV4dHJhY3Rvci1zZXJ2ZXJcXG5vZGVfbW9kdWxlc1xcYnJva2VyLWZhY3RvcnlcXGJ1aWxkXFxlczIwMTlcXGludGVyZmFjZXNcXGJyb2tlci1hY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb2tlci1hY3Rpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-actions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-definition.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/interfaces/broker-definition.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=broker-definition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2ludGVyZmFjZXMvYnJva2VyLWRlZmluaXRpb24uanMiLCJtYXBwaW5ncyI6IjtBQUFVO0FBQ1YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2ltcGxlXFxEb3dubG9hZHNcXFByb3llY3RvRXh0cmFjdG9yRGVGaWxhbWVudG9cXGV4dHJhY3Rvci1zZXJ2ZXJcXG5vZGVfbW9kdWxlc1xcYnJva2VyLWZhY3RvcnlcXGJ1aWxkXFxlczIwMTlcXGludGVyZmFjZXNcXGJyb2tlci1kZWZpbml0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb2tlci1kZWZpbml0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-definition.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/interfaces/default-broker-definition.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/interfaces/default-broker-definition.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=default-broker-definition.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2ludGVyZmFjZXMvZGVmYXVsdC1icm9rZXItZGVmaW5pdGlvbi5qcyIsIm1hcHBpbmdzIjoiO0FBQVU7QUFDViIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTaW1wbGVcXERvd25sb2Fkc1xcUHJveWVjdG9FeHRyYWN0b3JEZUZpbGFtZW50b1xcZXh0cmFjdG9yLXNlcnZlclxcbm9kZV9tb2R1bGVzXFxicm9rZXItZmFjdG9yeVxcYnVpbGRcXGVzMjAxOVxcaW50ZXJmYWNlc1xcZGVmYXVsdC1icm9rZXItZGVmaW5pdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LWJyb2tlci1kZWZpbml0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/interfaces/default-broker-definition.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/interfaces/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/interfaces/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _broker_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./broker-actions */ \"(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-actions.js\");\n/* harmony import */ var _broker_definition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./broker-definition */ \"(ssr)/./node_modules/broker-factory/build/es2019/interfaces/broker-definition.js\");\n/* harmony import */ var _default_broker_definition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./default-broker-definition */ \"(ssr)/./node_modules/broker-factory/build/es2019/interfaces/default-broker-definition.js\");\n/* harmony import */ var _worker_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./worker-event */ \"(ssr)/./node_modules/broker-factory/build/es2019/interfaces/worker-event.js\");\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2ludGVyZmFjZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUM7QUFDRztBQUNRO0FBQ2I7QUFDL0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2ltcGxlXFxEb3dubG9hZHNcXFByb3llY3RvRXh0cmFjdG9yRGVGaWxhbWVudG9cXGV4dHJhY3Rvci1zZXJ2ZXJcXG5vZGVfbW9kdWxlc1xcYnJva2VyLWZhY3RvcnlcXGJ1aWxkXFxlczIwMTlcXGludGVyZmFjZXNcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYnJva2VyLWFjdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9icm9rZXItZGVmaW5pdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2RlZmF1bHQtYnJva2VyLWRlZmluaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnLi93b3JrZXItZXZlbnQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/interfaces/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/interfaces/worker-event.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/interfaces/worker-event.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=worker-event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L2ludGVyZmFjZXMvd29ya2VyLWV2ZW50LmpzIiwibWFwcGluZ3MiOiI7QUFBVTtBQUNWIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNpbXBsZVxcRG93bmxvYWRzXFxQcm95ZWN0b0V4dHJhY3RvckRlRmlsYW1lbnRvXFxleHRyYWN0b3Itc2VydmVyXFxub2RlX21vZHVsZXNcXGJyb2tlci1mYWN0b3J5XFxidWlsZFxcZXMyMDE5XFxpbnRlcmZhY2VzXFx3b3JrZXItZXZlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29ya2VyLWV2ZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/interfaces/worker-event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/module.js":
/*!************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/module.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBroker: () => (/* binding */ createBroker)\n/* harmony export */ });\n/* harmony import */ var fast_unique_numbers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-unique-numbers */ \"(ssr)/./node_modules/fast-unique-numbers/build/es2019/module.js\");\n/* harmony import */ var _guards_message_port__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./guards/message-port */ \"(ssr)/./node_modules/broker-factory/build/es2019/guards/message-port.js\");\n/* harmony import */ var _helpers_extend_broker_implementation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers/extend-broker-implementation */ \"(ssr)/./node_modules/broker-factory/build/es2019/helpers/extend-broker-implementation.js\");\n/* harmony import */ var _interfaces_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interfaces/index */ \"(ssr)/./node_modules/broker-factory/build/es2019/interfaces/index.js\");\n/* harmony import */ var _types_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types/index */ \"(ssr)/./node_modules/broker-factory/build/es2019/types/index.js\");\n\n\n\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\n\n\nconst ONGOING_REQUESTS = new WeakMap();\nconst createOrGetOngoingRequests = (sender) => {\n    if (ONGOING_REQUESTS.has(sender)) {\n        // @todo TypeScript needs to be convinced that has() works as expected.\n        return ONGOING_REQUESTS.get(sender);\n    }\n    const ongoingRequests = new Map();\n    ONGOING_REQUESTS.set(sender, ongoingRequests);\n    return ongoingRequests;\n};\nconst createBroker = (brokerImplementation) => {\n    const fullBrokerImplementation = (0,_helpers_extend_broker_implementation__WEBPACK_IMPORTED_MODULE_2__.extendBrokerImplementation)(brokerImplementation);\n    return (sender) => {\n        const ongoingRequests = createOrGetOngoingRequests(sender);\n        sender.addEventListener('message', (({ data: message }) => {\n            const { id } = message;\n            if (id !== null && ongoingRequests.has(id)) {\n                const { reject, resolve } = ongoingRequests.get(id);\n                ongoingRequests.delete(id);\n                if (message.error === undefined) {\n                    resolve(message.result);\n                }\n                else {\n                    reject(new Error(message.error.message));\n                }\n            }\n        }));\n        if ((0,_guards_message_port__WEBPACK_IMPORTED_MODULE_1__.isMessagePort)(sender)) {\n            sender.start();\n        }\n        const call = (method, params = null, transferables = []) => {\n            return new Promise((resolve, reject) => {\n                const id = (0,fast_unique_numbers__WEBPACK_IMPORTED_MODULE_0__.generateUniqueNumber)(ongoingRequests);\n                ongoingRequests.set(id, { reject, resolve });\n                if (params === null) {\n                    sender.postMessage({ id, method }, transferables);\n                }\n                else {\n                    sender.postMessage({ id, method, params }, transferables);\n                }\n            });\n        };\n        const notify = (method, params, transferables = []) => {\n            sender.postMessage({ id: null, method, params }, transferables);\n        };\n        let functions = {};\n        for (const [key, handler] of Object.entries(fullBrokerImplementation)) {\n            functions = { ...functions, [key]: handler({ call, notify }) };\n        }\n        return { ...functions };\n    };\n};\n//# sourceMappingURL=module.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkQ7QUFDTDtBQUM4QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNtQztBQUNMO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxxQ0FBcUMsaUdBQTBCO0FBQy9EO0FBQ0E7QUFDQSwrQ0FBK0MsZUFBZTtBQUM5RCxvQkFBb0IsS0FBSztBQUN6QjtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxZQUFZLG1FQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlFQUFvQjtBQUMvQywwQ0FBMEMsaUJBQWlCO0FBQzNEO0FBQ0EseUNBQXlDLFlBQVk7QUFDckQ7QUFDQTtBQUNBLHlDQUF5QyxvQkFBb0I7QUFDN0Q7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlDQUFpQywwQkFBMEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtCQUErQixjQUFjO0FBQ3ZFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTaW1wbGVcXERvd25sb2Fkc1xcUHJveWVjdG9FeHRyYWN0b3JEZUZpbGFtZW50b1xcZXh0cmFjdG9yLXNlcnZlclxcbm9kZV9tb2R1bGVzXFxicm9rZXItZmFjdG9yeVxcYnVpbGRcXGVzMjAxOVxcbW9kdWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyYXRlVW5pcXVlTnVtYmVyIH0gZnJvbSAnZmFzdC11bmlxdWUtbnVtYmVycyc7XG5pbXBvcnQgeyBpc01lc3NhZ2VQb3J0IH0gZnJvbSAnLi9ndWFyZHMvbWVzc2FnZS1wb3J0JztcbmltcG9ydCB7IGV4dGVuZEJyb2tlckltcGxlbWVudGF0aW9uIH0gZnJvbSAnLi9oZWxwZXJzL2V4dGVuZC1icm9rZXItaW1wbGVtZW50YXRpb24nO1xuLypcbiAqIEB0b2RvIEV4cGxpY2l0bHkgcmVmZXJlbmNpbmcgdGhlIGJhcnJlbCBmaWxlIHNlZW1zIHRvIGJlIG5lY2Vzc2FyeSB3aGVuIGVuYWJsaW5nIHRoZVxuICogaXNvbGF0ZWRNb2R1bGVzIGNvbXBpbGVyIG9wdGlvbi5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2VzL2luZGV4JztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMvaW5kZXgnO1xuY29uc3QgT05HT0lOR19SRVFVRVNUUyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBjcmVhdGVPckdldE9uZ29pbmdSZXF1ZXN0cyA9IChzZW5kZXIpID0+IHtcbiAgICBpZiAoT05HT0lOR19SRVFVRVNUUy5oYXMoc2VuZGVyKSkge1xuICAgICAgICAvLyBAdG9kbyBUeXBlU2NyaXB0IG5lZWRzIHRvIGJlIGNvbnZpbmNlZCB0aGF0IGhhcygpIHdvcmtzIGFzIGV4cGVjdGVkLlxuICAgICAgICByZXR1cm4gT05HT0lOR19SRVFVRVNUUy5nZXQoc2VuZGVyKTtcbiAgICB9XG4gICAgY29uc3Qgb25nb2luZ1JlcXVlc3RzID0gbmV3IE1hcCgpO1xuICAgIE9OR09JTkdfUkVRVUVTVFMuc2V0KHNlbmRlciwgb25nb2luZ1JlcXVlc3RzKTtcbiAgICByZXR1cm4gb25nb2luZ1JlcXVlc3RzO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVCcm9rZXIgPSAoYnJva2VySW1wbGVtZW50YXRpb24pID0+IHtcbiAgICBjb25zdCBmdWxsQnJva2VySW1wbGVtZW50YXRpb24gPSBleHRlbmRCcm9rZXJJbXBsZW1lbnRhdGlvbihicm9rZXJJbXBsZW1lbnRhdGlvbik7XG4gICAgcmV0dXJuIChzZW5kZXIpID0+IHtcbiAgICAgICAgY29uc3Qgb25nb2luZ1JlcXVlc3RzID0gY3JlYXRlT3JHZXRPbmdvaW5nUmVxdWVzdHMoc2VuZGVyKTtcbiAgICAgICAgc2VuZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoKHsgZGF0YTogbWVzc2FnZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGlkICE9PSBudWxsICYmIG9uZ29pbmdSZXF1ZXN0cy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZWplY3QsIHJlc29sdmUgfSA9IG9uZ29pbmdSZXF1ZXN0cy5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIG9uZ29pbmdSZXF1ZXN0cy5kZWxldGUoaWQpO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtZXNzYWdlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKG1lc3NhZ2UuZXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoaXNNZXNzYWdlUG9ydChzZW5kZXIpKSB7XG4gICAgICAgICAgICBzZW5kZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsID0gKG1ldGhvZCwgcGFyYW1zID0gbnVsbCwgdHJhbnNmZXJhYmxlcyA9IFtdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gZ2VuZXJhdGVVbmlxdWVOdW1iZXIob25nb2luZ1JlcXVlc3RzKTtcbiAgICAgICAgICAgICAgICBvbmdvaW5nUmVxdWVzdHMuc2V0KGlkLCB7IHJlamVjdCwgcmVzb2x2ZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlci5wb3N0TWVzc2FnZSh7IGlkLCBtZXRob2QgfSwgdHJhbnNmZXJhYmxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZW5kZXIucG9zdE1lc3NhZ2UoeyBpZCwgbWV0aG9kLCBwYXJhbXMgfSwgdHJhbnNmZXJhYmxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5vdGlmeSA9IChtZXRob2QsIHBhcmFtcywgdHJhbnNmZXJhYmxlcyA9IFtdKSA9PiB7XG4gICAgICAgICAgICBzZW5kZXIucG9zdE1lc3NhZ2UoeyBpZDogbnVsbCwgbWV0aG9kLCBwYXJhbXMgfSwgdHJhbnNmZXJhYmxlcyk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBmdW5jdGlvbnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBoYW5kbGVyXSBvZiBPYmplY3QuZW50cmllcyhmdWxsQnJva2VySW1wbGVtZW50YXRpb24pKSB7XG4gICAgICAgICAgICBmdW5jdGlvbnMgPSB7IC4uLmZ1bmN0aW9ucywgW2tleV06IGhhbmRsZXIoeyBjYWxsLCBub3RpZnkgfSkgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyAuLi5mdW5jdGlvbnMgfTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/types/broker-implementation.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/types/broker-implementation.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceMappingURL=broker-implementation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L3R5cGVzL2Jyb2tlci1pbXBsZW1lbnRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiO0FBQVU7QUFDViIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTaW1wbGVcXERvd25sb2Fkc1xcUHJveWVjdG9FeHRyYWN0b3JEZUZpbGFtZW50b1xcZXh0cmFjdG9yLXNlcnZlclxcbm9kZV9tb2R1bGVzXFxicm9rZXItZmFjdG9yeVxcYnVpbGRcXGVzMjAxOVxcdHlwZXNcXGJyb2tlci1pbXBsZW1lbnRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm9rZXItaW1wbGVtZW50YXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/types/broker-implementation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/broker-factory/build/es2019/types/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/broker-factory/build/es2019/types/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _broker_implementation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./broker-implementation */ \"(ssr)/./node_modules/broker-factory/build/es2019/types/broker-implementation.js\");\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYnJva2VyLWZhY3RvcnkvYnVpbGQvZXMyMDE5L3R5cGVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7O0FBQXdDO0FBQ3hDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNpbXBsZVxcRG93bmxvYWRzXFxQcm95ZWN0b0V4dHJhY3RvckRlRmlsYW1lbnRvXFxleHRyYWN0b3Itc2VydmVyXFxub2RlX21vZHVsZXNcXGJyb2tlci1mYWN0b3J5XFxidWlsZFxcZXMyMDE5XFx0eXBlc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9icm9rZXItaW1wbGVtZW50YXRpb24nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/broker-factory/build/es2019/types/index.js\n");

/***/ })

};
;